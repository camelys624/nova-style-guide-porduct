<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="generator" content="Gatsby 4.11.0"/><style data-href="/styles.5da8afc12734bfddb04a.css" data-identity="gatsby-global-css">/*!
  Theme: Dracula
  Author: Mike Barkmin (http://github.com/mikebarkmin) based on Dracula Theme (http://github.com/dracula)
  License: ~ MIT (or more permissive) [via base16-schemes-source]
  Maintainer: @highlightjs/core-team
  Version: 2021.09.0
*/pre code.hljs{display:block;overflow-x:auto;padding:1em}code.hljs{padding:3px 5px}.hljs{background:#282936;color:#e9e9f4}.hljs ::selection,.hljs::selection{background-color:#4d4f68;color:#e9e9f4}.hljs-comment{color:#626483}.hljs-tag{color:#62d6e8}.hljs-operator,.hljs-punctuation,.hljs-subst{color:#e9e9f4}.hljs-operator{opacity:.7}.hljs-bullet,.hljs-deletion,.hljs-name,.hljs-selector-tag,.hljs-template-variable,.hljs-variable{color:#ea51b2}.hljs-attr,.hljs-link,.hljs-literal,.hljs-number,.hljs-symbol,.hljs-variable.constant_{color:#b45bcf}.hljs-class .hljs-title,.hljs-strong,.hljs-title,.hljs-title.class_{color:#00f769}.hljs-strong{font-weight:700}.hljs-addition,.hljs-code,.hljs-string,.hljs-title.class_.inherited__{color:#ebff87}.hljs-built_in,.hljs-doctag,.hljs-keyword.hljs-atrule,.hljs-quote,.hljs-regexp{color:#a1efe4}.hljs-attribute,.hljs-function .hljs-title,.hljs-section,.hljs-title.function_,.ruby .hljs-property{color:#62d6e8}.diff .hljs-meta,.hljs-keyword,.hljs-template-tag,.hljs-type{color:#b45bcf}.hljs-emphasis{color:#b45bcf;font-style:italic}.hljs-meta,.hljs-meta .hljs-keyword,.hljs-meta .hljs-string{color:#00f769}.hljs-meta .hljs-keyword,.hljs-meta-keyword{font-weight:700}:root{--default-color:#212121;--background-color:#fff;--border-color:#f6f6f6;--default-width-1:0.05208vw;--default-width-20:calc(var(--default-width-1)*20);--box-shadow:rgb(0 0 0/6%) 0px calc(var(--default-width-1)*6) calc(var(--default-width-1)*24);--border-radius:calc(var(--default-width-1)*4);--font-size:calc(var(--default-width-1)*14);--large-font-size:calc(var(--default-width-1)*16);font-size:var(--font-size)}body{margin:0}code{background-color:#e3e3e3;border-radius:5px;padding:3px 5px}blockquote{border-left:.25em solid #d0d7de;margin:0;padding:0 1em}img{max-width:100%}.hljs{font-family:Fira Code}.index-module--card--FvfCF{background-color:var(--background-color);border:var(--default-width-1) solid #e3e3e3;color:var(--default-color);margin:0 calc(var(--default-width-20)/2);padding:0 var(--default-width-20);text-decoration:none}.index-module--card--FvfCF:hover{box-shadow:var(--box-shadow)}.index-module--type-card__title--fwrmv{border-bottom:solid var(--default-width-1) var(--border-color);height:calc(var(--default-width-20)*3);line-height:calc(var(--default-width-20)*3)}.index-module--type-card__content--wul88{display:flex;flex-wrap:wrap}.index-module--header-box--RtnlP{box-shadow:var(--box-shadow);position:fixed;top:0;width:100%}header{align-items:center;background-color:var(--background-color);display:flex;height:calc(var(--default-width-20)*3.5);justify-content:space-between;margin:0 auto;max-width:80rem;padding:0 1.5rem}.index-module--menu--T2tkF,.index-module--sub-menu--kdLk5{display:flex;list-style-type:none;padding:0}.index-module--menu--T2tkF>li{cursor:pointer;display:block;font-size:var(--large-font-size);font-weight:700;height:calc(var(--default-width-20)*3.5);line-height:calc(var(--default-width-20)*3.5);padding:0 var(--default-width-20)}.index-module--menu--T2tkF>li:hover .index-module--sub-menu--kdLk5{display:block}.index-module--sub-menu--kdLk5{background-color:var(--background-color);border-radius:var(--border-radius);box-shadow:var(--box-shadow);display:none;flex-direction:column;position:absolute;width:calc(var(--default-width-20)*6)}.index-module--sub-menu--kdLk5>li{cursor:pointer;height:calc(var(--default-width-20)*2);line-height:calc(var(--default-width-20)*2);padding:0 var(--default-width-20)}:is(.index-module--menu--T2tkF,.index-module--sub-menu--kdLk5) li a,h2>a{color:var(--default-color);display:block;height:100%;text-decoration:none}.index-module--md-content--tPtrw{margin:calc(var(--default-width-20)*4.5) auto 0;max-width:80rem}</style><style>.gatsby-image-wrapper{position:relative;overflow:hidden}.gatsby-image-wrapper picture.object-fit-polyfill{position:static!important}.gatsby-image-wrapper img{bottom:0;height:100%;left:0;margin:0;max-width:none;padding:0;position:absolute;right:0;top:0;width:100%;object-fit:cover}.gatsby-image-wrapper [data-main-image]{opacity:0;transform:translateZ(0);transition:opacity .25s linear;will-change:opacity}.gatsby-image-wrapper-constrained{display:inline-block;vertical-align:top}</style><noscript><style>.gatsby-image-wrapper noscript [data-main-image]{opacity:1!important}.gatsby-image-wrapper [data-placeholder-image]{opacity:0!important}</style></noscript><script type="module">const e="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;e&&document.body.addEventListener("load",(function(e){if(void 0===e.target.dataset.mainImage)return;if(void 0===e.target.dataset.gatsbyImageSsr)return;const t=e.target;let a=null,n=t;for(;null===a&&n;)void 0!==n.parentNode.dataset.gatsbyImageWrapper&&(a=n.parentNode),n=n.parentNode;const o=a.querySelector("[data-placeholder-image]"),r=new Image;r.src=t.currentSrc,r.decode().catch((()=>{})).then((()=>{t.style.opacity=1,o&&(o.style.opacity=0,o.style.transition="opacity 500ms linear")}))}),!0);</script><title data-react-helmet="true"></title><link rel="sitemap" type="application/xml" href="/sitemap/sitemap-index.xml"/><link rel="icon" href="/favicon-32x32.png?v=53aa06cf17e4239d0dba6ffd09854e02" type="image/png"/><link rel="manifest" href="/manifest.webmanifest" crossorigin="anonymous"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=53aa06cf17e4239d0dba6ffd09854e02"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=53aa06cf17e4239d0dba6ffd09854e02"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=53aa06cf17e4239d0dba6ffd09854e02"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=53aa06cf17e4239d0dba6ffd09854e02"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=53aa06cf17e4239d0dba6ffd09854e02"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=53aa06cf17e4239d0dba6ffd09854e02"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=53aa06cf17e4239d0dba6ffd09854e02"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=53aa06cf17e4239d0dba6ffd09854e02"/><link as="script" rel="preload" href="/webpack-runtime-a8b117a0c06915913bd8.js"/><link as="script" rel="preload" href="/framework-40f550404eff6143517a.js"/><link as="script" rel="preload" href="/app-5ff64c5c6731c3d5b165.js"/><link as="script" rel="preload" href="/42c9f84f9645ed5f761b4c6678255cf01342391e-664e7f9e279843ee0ff6.js"/><link as="script" rel="preload" href="/component---src-pages-index-tsx-cc0e6606af768ec19edc.js"/><link as="fetch" rel="preload" href="/page-data/index/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/2744905544.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><script>(function() { try {
  var mode = localStorage.getItem('theme-ui-color-mode');
  if (!mode) return
  document.documentElement.classList.add('theme-ui-' + mode);
} catch (e) {} })();</script><div id="___gatsby"><style data-emotion="css-global ehhlky">html{color:var(--theme-ui-colors-text);background-color:var(--theme-ui-colors-background);}</style><style data-emotion="css-global 0"></style><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div class="index-module--header-box--RtnlP"><header><h2><a aria-current="page" class="" href="/">Nova Style Guide</a></h2><nav><ul class="index-module--menu--T2tkF"><li><a href="/front-end-page">Front End</a></li><li>Back End</li><li>UI/UX Design</li><li><a href="/blog-page">Blog</a></li><li>Projects<ul class="index-module--sub-menu--kdLk5"><li>Nova</li><li>Hydra</li><li>Asgard</li></ul></li></ul></nav></header></div><main class="index-module--md-content--tPtrw"><h2 class="css-0">1. 工作流规范</h2><h3 class="css-0">1.1 版本规范</h3><p class="css-0">详情参阅<a href="https://semver.org/lang/zh-CN/" class="css-0">语义化版本</a>规范。</p><h3 class="css-0">1.2 使用 git-flow 进行版本控制</h3><p class="css-0">推荐使用 <a href="https://www.git-tower.com/learn/git/ebook/cn/command-line/advanced-topics/git-flow" class="css-0">git-flow</a> 管理流程，当然也可以根据实际情况制定自己的流程，但是先把人家的研究透了之后再自定义。</p><p class="css-0">git-flow 貌似是集成在了 git 里面，所以只需要安装好 git 就行，</p><p class="css-0">git-flow 预设两个分支：</p><ul class="css-0"><li class="css-0">master： mater 分支是最终的发行版分支，开发的代码不能直接合并到此分支。如果涉及到线上的 bug，从此分支分离新的修 bug的分支。</li><li class="css-0">develop： develop 分支是各项功能的基础分支，新功能开发完毕后先合并到此分支，测试通过之后在合并到 master 分支。</li></ul><p class="css-0">下面是一些主要命令：</p><pre class="css-0"><code class="language-bash css-0"># 初始化项目，直接 enter 选择默认值就行
git flow init

# 开发新功能（创建新分支）
git flow feature start new-feature

# 开发完成
git flow feature finish new-feature

# 创建 release
git flow release start 0.1.1

# 最后的修改之后，发布 release
git flow release finish 0.1.1

# 创建 bugfix 分支
git flow bugfix start 20279

# 修改完成
git flow bugfix finish 20279

# 创建修复线上 bug 分支
git flow hotfix start 20280

# 完成修复
git flow hotfix finish 20280
</code></pre><p class="css-0">其他的命令可以运行 <code class="css-0">git flow help</code> 查看。</p><p class="css-0"><img src="./images/git-flow-help.png" alt="git flow help" class="css-0"/></p><p class="css-0"><strong class="css-0">在 release 完成之后，提交 develop 的代码，然后 merge 到 master 分支上</strong></p><h3 class="css-0">1.3 提交信息规范</h3><p class="css-0">良好的提交信息可以提升项目的整体质量。</p><ul class="css-0"><li class="css-0"><strong class="css-0">格式统一的提交信息有助于自动化生成CHANGELOG</strong></li><li class="css-0"><strong class="css-0">版本库不只是存放代码的仓库, 它记录项目的开发日志, 它应该要清晰表达这次提交的做了什么.</strong> 这些记录应该可以帮助后来者快速地学习和回顾代码, 也应该方便其他协作者review你的代码</li><li class="css-0"><strong class="css-0">规范化提交信息可以促进提交者提交有意义的、粒度合适的&#x27;提交&#x27;.</strong> 提交者要想好要怎么描述这个提交，这样被动促进了他们去把控<strong class="css-0">提交的粒度</strong></li></ul><h4 class="css-0">提交信息格式</h4><p class="css-0">一般选择 <a href="https://github.com/angular/angular/blob/master/CONTRIBUTING.md#commit" class="css-0">angular 的提交规范</a>。</p><pre class="css-0"><code class="language-text css-0">&lt;type&gt;(&lt;scope&gt;): &lt;subject&gt;

&lt;body&gt;

&lt;footer&gt;
</code></pre><p class="css-0">可以直接看这个人的<a href="https://github.com/GDJiaMi/frontend-standards/blob/master/development.md#header" class="css-0">描述</a>。</p><p class="css-0">推荐使用插件协助编写提交信息：</p><ul class="css-0"><li class="css-0">vscode 推荐 <a href="https://marketplace.visualstudio.com/items?itemName=redjue.git-commit-plugin" class="css-0">git-commit-plugin</a>，无他，中文而且带 emoji</li><li class="css-0">JetBrains 全家桶可以用 <a href="https://plugins.jetbrains.com/plugin/9861-git-commit-template" class="css-0">Git Commit Template</a></li></ul><h3 class="css-0">todo</h3><h4 class="css-0">测试</h4><h4 class="css-0">集成</h4><h2 class="css-0">2. 项目组织规范</h2><h3 class="css-0">2.1 构建项目规范</h3><p class="css-0">目前最好是使用官方的工具构建，比如 <code class="css-0">vue-cli</code> 和 <code class="css-0">crete-react-app</code>，专业的事情交给专业的做，如果将来有能力，可以基于这些开发自己的构建工具。</p><h3 class="css-0">2.1 通用的项目规范</h3><p class="css-0">一个典型的项目组织规范如下:</p><ul class="css-0"><li class="css-0">README.md 项目说明，必须</li><li class="css-0">CHANGELOG.md 放置每个版本的变更内容</li><li class="css-0">package.json  前端包管理信息</li><li class="css-0">.gitignore    忽略不必要文件，避免被提交到版本库</li><li class="css-0">。gitattributes   git 配置</li><li class="css-0">docs/ 存放文档的地方，可选</li><li class="css-0">examples/ 项目示例代码，一般开源项目才有</li><li class="css-0">build/    可选</li><li class="css-0">dist/ 打包结果文件夹</li><li class="css-0">src/  源代码文件夹</li><li class="css-0">tests/    在根目录表示全局测试，通常放应用的集成测试或E2E测试等用例；模块的测试应该在模块下面建<code class="css-0">tests/</code>文件夹</li><li class="css-0">.env.*    环境变量文件</li></ul><h3 class="css-0">2.2 目录组织规范</h3><h4 class="css-0">文件命名规范</h4><p class="css-0">参考阮一峰<a href="https://github.com/ruanyf/document-style-guide/blob/master/docs/structure.md#%E6%96%87%E4%BB%B6%E5%90%8D" class="css-0">中文技术文档写作规范</a>。</p><ol class="css-0"><li class="css-0">文档文件名不得含有空格</li><li class="css-0">最好不要使用中文</li><li class="css-0">建议只用小写字母，除某些特殊文件</li><li class="css-0">分割单词用<code class="css-0">-</code>连词符号</li></ol><h4 class="css-0">页面组织</h4><p class="css-0">每个页面单独建立文件夹，通过<code class="css-0">index.js</code>引入，页面自己的组件放在当前文件夹的<code class="css-0">components</code>文件夹下，公用组件放在<code class="css-0">src/components</code>文件夹。</p><pre class="css-0"><code class="language-txt css-0">src/
    components/
    page/
        page1/
            components/
                component1.vue
                component2.vue
            index.js

</code></pre><h3 class="css-0">2.3 脚手架和项目模板</h3><p class="css-0">在将项目结构规范确定下来后，可以创建自己的脚手架工具或者项目模板，用于快速初始化一个项目或代码模板。</p><h2 class="css-0">3. 技术栈规范</h2><blockquote class="css-0"><p class="css-0">三大框架跟编程语言一样都有自己的设计哲学，这跟库是不一样, 一个库的替换成本很低；而框架的背后是一个架构、一个生态。每个框架背后牵涉着开发思维、生态系统、配套工具、最佳实践、性能调优。要精通和熟练一个框架需要付出的成本是很高。</p></blockquote><p class="css-0"><strong class="css-0">所以说团队的开发效率是基于稳定且熟练的技术栈的</strong>。稳定的技术栈规范有利于团队协作和沟通；另外如果团队精通这个技术栈，当出现问题或者需要深入调优，会相对轻松。</p><p class="css-0">直接参考这位<a href="https://github.com/GDJiaMi/frontend-standards/blob/master/tech-stack.md" class="css-0">老兄的规范</a>，主要包括下面几个。</p><h3 class="css-0">语言</h3><p class="css-0">我还是比较倾向于使用 Javascript。Typescript 可以在用 Vue3 或者 React 的时候使用。</p><h3 class="css-0">框架</h3><ul class="css-0"><li class="css-0">✅ Vue2.x</li><li class="css-0">生态</li><li class="css-0">路由 vue-router</li><li class="css-0">状态管理 vuex</li><li class="css-0">UI框架  element-ui</li><li class="css-0">图标    iconfont</li><li class="css-0">http库  axios</li><li class="css-0">数据可视化  echart</li></ul><h3 class="css-0">CSS</h3><ul class="css-0"><li class="css-0">命名规范</li><li class="css-0"><a href="http://getbem.com/naming/" class="css-0">BEM</a> 感觉能看懂就行了</li><li class="css-0">框架</li><li class="css-0">原生 CSS 我更倾向这个</li><li class="css-0">less</li><li class="css-0">scss</li></ul><h3 class="css-0">QA</h3><ul class="css-0"><li class="css-0">测试 jest</li><li class="css-0">ESLint</li><li class="css-0">代码格式化 prettier</li></ul><h3 class="css-0">构建</h3><ul class="css-0"><li class="css-0">webpack</li><li class="css-0">vue-cli</li></ul><h3 class="css-0">项目管理</h3><ul class="css-0"><li class="css-0">yarn</li><li class="css-0">npm</li></ul><h3 class="css-0">开发工具</h3><ul class="css-0"><li class="css-0">webstorm</li><li class="css-0">vscode</li></ul><h3 class="css-0">utils</h3><ul class="css-0"><li class="css-0">lodash</li></ul><h3 class="css-0">版本管理</h3><ul class="css-0"><li class="css-0">git</li></ul><h3 class="css-0">持续集成</h3><h2 class="css-0">4. 编码规范</h2><blockquote class="css-0"><p class="css-0">统一的编码规范对团队项目的长远维护不无裨益. 一致性的代码规范可以增强团队开发协作效率、提高代码质量、减少遗留系统维护的负担。</p></blockquote><p class="css-0">使用lint工具去约束编码行为。</p><h3 class="css-0">4.1 Javascript</h3><ul class="css-0"><li class="css-0">Lint 工具， 使用 <a href="https://cn.eslint.org/" class="css-0">ESLint</a></li><li class="css-0"><a href="https://standardjs.com/readme-zhcn.html#why-should-i-use-javascript-standard-style" class="css-0">JavaScript Standard Style</a> 规范或者 <a href="https://github.com/airbnb/javascript" class="css-0">Airbnb JavaScript Style Guide</a></li><li class="css-0">类型检查 TypeScript</li></ul><h3 class="css-0">4.2 HTML</h3><p class="css-0">无他，多使用语义化标签。还是有一个<a href="https://codeguide.co/" class="css-0">文档</a>。</p><h3 class="css-0">4.3 CSS</h3><h3 class="css-0">4.4 代码格式化</h3><p class="css-0">使用 <a href="https://prettier.io/" class="css-0">Prettier</a> 对格式化代码。</p><h3 class="css-0">4.5 抄作业</h3><ul class="css-0"><li class="css-0"><a href="https://coderlmn.github.io/code-standards/#_html5" class="css-0">isobar 前端代码规范及最佳实践</a></li><li class="css-0"><a href="https://guide.aotu.io/index.html" class="css-0">凹凸实验室代码规范</a></li><li class="css-0"><a href="https://github.com/fex-team/styleguide" class="css-0">百度FEX规范</a></li></ul><h3 class="css-0">4.6 code review</h3><p class="css-0"><img src="/images/code-review.jpg" alt="code-review" class="css-0"/></p><p class="css-0">Code Review有很多好处，比如：</p><ul class="css-0"><li class="css-0"><strong class="css-0">Code Review可以让其他成员都熟悉代码</strong>。这样保证其他人都可以较快地接手你的工作，或者帮你解决某些问题</li><li class="css-0"><strong class="css-0">提高代码质量</strong>。毫无疑问. 一方面是主动性的代码质量提升，比如你的代码需要被人Review，会自觉尽量的提高代码质量；另一方面，其他成员可以检查提交方的代码质量</li><li class="css-0"><strong class="css-0">检查或提高新成员的编程水平</strong>。培养新人时，由于不信任它们提交的代码，我们会做一次Review检查代码是否过关。另一方面这是一次真实的案例讲解, 可以较快提高</li></ul><p class="css-0">如果可能的话，推荐每个月（或者更短）抽出一点时间，大家一起 code review，相互学习。</p><h2 class="css-0">5. 文档规范</h2><blockquote class="css-0"><p class="css-0">如果有规范的文档体系，转交工作就会变动非常轻松。</p></blockquote><p class="css-0">文档对于项目开发和维护、学习、重构、以及知识管理非常重要。就拿 hydra 来说，之前都是听 aki 说，需求我们其实都不是很清楚，现在 aki 走了，很多东西还是要去通过代码实现才知道是干啥子的。</p><p class="css-0">广义的文档不单指‘说明文件’本身，它有很多形式、来源和载体，可以描述一个知识、以及知识形成和迭代的过程。例如版本库代码提交记录、代码注释、决策和讨论记录、CHANGELOG、示例代码、规范、传统文档等等</p><h3 class="css-0">5.1 建立文档中心</h3><p class="css-0">我们可以在 ADO 上建立一个 git 仓库来存放我们的文档。目录结构可以致敬别人的：</p><pre class="css-0"><code class="language-text css-0">规范/
A应用/
  产品/
  设计/
  API文档/
  测试/
  其他/
B应用/
</code></pre><p class="css-0">文档推荐使用 <code class="css-0">markdown</code> 文件，因为可以直接在网页上浏览。特殊情况，还是怎么适合怎么来。</p><h3 class="css-0">5.2 文档格式</h3><p class="css-0">毫无疑问，对于开发者来说，<a href="https://zh.wikipedia.org/wiki/Markdown" class="css-0">Markdown</a> 是最适合的、最通用的文档格式。支持版本库在线预览和变更历史跟踪。</p><p class="css-0">工具：</p><ul class="css-0"><li class="css-0"><a href="https://typora.io/" class="css-0">typora</a> 跨平台的 markdown 编辑器</li><li class="css-0">vscode 可以搭配插件使用</li><li class="css-0">Markdown All in One</li><li class="css-0">Markdown Preview Enhanced 我现在就是用的这个</li></ul><p class="css-0">文档的格式可以参考阮一峰的<a href="https://github.com/ruanyf/document-style-guide/blob/master/docs/reference.md" class="css-0">中文文档规范</a>。</p><h3 class="css-0">5.3 讨论即文档</h3><p class="css-0">可以尝试将一些有意义的话题从 IM 迁移到 Issue：</p><ul class="css-0"><li class="css-0">设计方案</li><li class="css-0">决策/建议</li><li class="css-0">新功能、新技术引入</li><li class="css-0">重构</li><li class="css-0">性能优化</li><li class="css-0">规范</li><li class="css-0">问题讨论</li><li class="css-0">重大事件</li><li class="css-0">计划或进度追踪</li></ul><p class="css-0">Issue 的许多妙用，可以看这篇文章<a href="http://www.ruanyifeng.com/blog/2017/08/issue.html" class="css-0">如何使用 Issue 管理软件项目</a>。</p><p class="css-0">Issue 通常通过标签来进行分类，方便组织和检索：</p><p class="css-0"><img src="https://www.ruanyifeng.com/blogimg/asset/2017/bg2017082428.png" alt="issue label" class="css-0"/></p><h3 class="css-0">5.4 注释即文档</h3><blockquote class="css-0"><p class="css-0">必要和适量的注释对阅读源代码的人来说就是一个路牌, 可以少走很多弯路</p></blockquote><p class="css-0">关于注释的一些准则，<a href="https://github.com/alibaba/p3c/blob/master/p3c-gitbook/%E7%BC%96%E7%A8%8B%E8%A7%84%E7%BA%A6/%E6%B3%A8%E9%87%8A%E8%A7%84%E7%BA%A6.md" class="css-0">&lt;阿里巴巴Java开发手册&gt;</a>总结得非常好, 推荐基于这个来建立注释规范。另外通过ESlint是可以对注释进行一定程度的规范。</p><h3 class="css-0">5.5 代码即文档</h3><h2 class="css-0">6. UI 设计规范</h2><p class="css-0">为什么要定义 UI 设计规范，首先可以实现组件的复用，只需要简单的改变颜色。不用写很多定制化的组件，浪费时间。其次，可以统一系统的色彩基调，如果将来有更换主题的需求，可以快速实现。</p><p class="css-0">良好的 UI 规范可以参考<a href="https://i.loli.net/2018/06/21/5b2b5317f1271.png" class="css-0">这个案例</a>。也可以直接借鉴 <a href="https://ant.design/docs/spec/colors-cn" class="css-0">ant-design</a> 的规范。</p><h2 class="css-0">7. 测试规范</h2><h3 class="css-0">7.1 单元测试</h3><p class="css-0">使用 jest 进行单元测试</p><p class="css-0">TODO...</p><h2 class="css-0">8. 异常处理、监控和调试规范</h2><p class="css-0">合理有效的异常处理可以提高应用的健壮性，保证页面的正常使用，可以帮助开发者快速定位异常。</p><h3 class="css-0">8.1 异常处理</h3><p class="css-0">可以参考&lt;阿里巴巴的java开发手册&gt;中总结的<a href="https://github.com/alibaba/p3c/blob/master/p3c-gitbook/%E5%BC%82%E5%B8%B8%E6%97%A5%E5%BF%97/%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86.md" class="css-0">异常处理规范</a>。</p><h3 class="css-0">8.2 日志处理</h3><p class="css-0">通常只保留必要的、有意义的日志信息。</p><ul class="css-0"><li class="css-0">避免重复打印日志</li><li class="css-0">谨慎地记录日志, 划分日志级别。比如生产环境禁止输出debug日志；有选择地输出info日志；</li><li class="css-0">使用前缀对日志进行分类, 例如: <!-- -->[User]<!-- --> xxxx</li><li class="css-0">只记录关键信息, 这些信息可以帮助你诊断问题</li></ul><h3 class="css-0">8.3 异常监控</h3><p class="css-0">因为程序跑在不受控的环境，所以对于客户端应用来说，异常监控在生产环境是非常重要的，它可以收集各种意料之外生产环境问题，帮助开发者快速定位异常。</p><p class="css-0">和日志一样，<strong class="css-0">不是所有‘异常’都应该上报给异常监控系统</strong>，譬如一些预料之内的‘异常’，比如用户输入错误、鉴权失败、网络错误等等。<strong class="css-0">异常监控主要用来上报一些意料之外的、或者致命性的异常</strong>。</p><p class="css-0">呐呐呐呐呐呐呐呐呐呐呐呐呐呐，没有精力就用 <a href="https://sentry.io/welcome/" class="css-0">Sentry</a> 工具监控。</p><h2 class="css-0">9. 前后端协作规范</h2><h3 class="css-0">9.1 协作流程规范</h3><p class="css-0">一个典型的前后端协作流程如下：</p><p class="css-0"><img src="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2019/7/26/16c2c4a0cc0fcfc7~tplv-t2oaga2asx-zoom-in-crop-mark:1304:0:0:0.awebp" alt="协作流程" class="css-0"/></p><ol class="css-0"><li class="css-0">需求分析。参与者一般有前后端、测试、以及产品. 由产品主持，对需求进行宣贯，接受开发和测试的反馈，确保大家对需求有一致的认知</li><li class="css-0">前后端开发讨论。讨论应用的一些开发设计，沟通技术点、难点、以及分工问题.</li><li class="css-0">设计接口文档。可以由前后端一起设计；或者由后端设计、前端确认是否符合要求</li><li class="css-0">并行开发。前后端并行开发，在这个阶段，前端可以先实现静态页面；或者根据接口文档对接口进行Mock，来模拟对接后端接口</li><li class="css-0">在联调之前，要求后端做好接口测试</li><li class="css-0">真实环境联调。前端将接口请求代理到后端服务，进行真实环境联调</li></ol><h3 class="css-0">9.2 接口规范</h3><p class="css-0">选择通用的、有标准定义接口形式。例如：</p><ul class="css-0"><li class="css-0"><a href="https://zh.wikipedia.org/zh-hans/%E8%A1%A8%E7%8E%B0%E5%B1%82%E7%8A%B6%E6%80%81%E8%BD%AC%E6%8D%A2" class="css-0">RESTful</a> 目前最为广泛的API设计规范，基于HTTP本身的机制实现</li><li class="css-0"><a href="http://wiki.geekdream.com/Specification/json-rpc_2.0.html" class="css-0">JSONRPC</a> 不知道这是个啥</li><li class="css-0"><a href="https://graphql.org/learn/" class="css-0">GraphQL</a> 据说是未来，这个项目就是用的GraphQL</li></ul><p class="css-0">接口设计需要注意的点：</p><ul class="css-0"><li class="css-0">明确区分是正常还是异常, 严格遵循接口的异常原语. 上述接口形式都有明确的异常原语，比如JSONRPC，当出现异常时应该返回错误对象响应，而不是在正常的响应体中返回错误代码. 另外要规范化的错误码, HTTP响应码就是一个不错的学习对象</li><li class="css-0">明确数据类型。很多后端写的接口都是string和number不分的，如果妥协的话、前端就需要针对这个属性做特殊处理，这也可能是潜在的bug</li><li class="css-0">明确空值的意义。比如在做更新操作是，空值是表示重置，还是忽略更新？</li><li class="css-0">响应避免冗余的嵌套。</li><li class="css-0">接口版本化，保持向下兼容。就像我们上文的‘语义化版本规范’说的，对于后端来说，API就是公共的接口. 公共暴露的接口应该有一个版本号，来说明当前描述的接口做了什么变动，是否向下兼容。</li><li class="css-0">现在前端代码可能会在客户端被缓存，例如小程序。如果后端做了break change，就会影响这部分用户。</li></ul><h3 class="css-0">9.3 接口文档</h3><p class="css-0">可以使用<a href="https://swagger.io/specification/" class="css-0">swagger</a>来管理接口，但是是否需要先定义需要的数据和所属字段的类型。</p><h3 class="css-0">9.4 接口测试与模拟</h3><p class="css-0">为了做到高效率的前后端并行开发，接口的测试与模拟是必要的。</p><ul class="css-0"><li class="css-0">前端要求后端在联调之前，需要测试验证好自己的接口是否可以正常工作。而不是在联调期间，把前端当‘接口测试员’，阻塞接口联调进度</li><li class="css-0">另外前端需要在后端接口未准备好之前，通过接口模拟的方式，来编写业务逻辑代码。</li></ul><p class="css-0">针对接口测试与模拟，存在下图这样一个理想的模型:</p><p class="css-0"><img src="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2019/7/26/16c2c4a0cf1fc643~tplv-t2oaga2asx-zoom-in-crop-mark:1304:0:0:0.awebp" alt="接口测试与模拟理想模型" class="css-0"/></p><p class="css-0">一切从定义良好的接口文档出发，生成Mock Server和Mock Client, Mock Server给前端提供模拟数据，而Mock Client则辅助后端对它们的接口进行测试。</p><p class="css-0">资源：</p><ul class="css-0"><li class="css-0">RESTful<ul class="css-0"><li class="css-0">swagger</li><li class="css-0"><a href="https://github.com/typicode/json-server" class="css-0">JSON Server</a> 这个还行吧，自己写json数据 </li><li class="css-0">Easy Mock 可视化的、在线的接口mock工具</li></ul></li><li class="css-0">GraphQL<ul class="css-0"><li class="css-0">GraphQL Faker</li><li class="css-0">graphql-tools</li></ul></li><li class="css-0">模拟数据生成<ul class="css-0"><li class="css-0"><a href="https://github.com/faker-js/faker" class="css-0">faker.js</a> 数据太过于通用，或许我们可以自己搞一个</li><li class="css-0"><a href="https://link.juejin.cn/?target=https%3A%2F%2Fgithub.com%2Fnuysoft%2FMock" class="css-0">Mock.js</a> 我连mock是个啥子都没搞懂</li></ul></li></ul><h2 class="css-0">10. 培训/知识管理/技术沉淀</h2><h3 class="css-0">10.1 培训</h3><p class="css-0">todo...</p><h3 class="css-0">10.2 营造技术氛围</h3><ul class="css-0"><li class="css-0"><strong class="css-0">鼓励成员写技术博客，或者建立自己的团队专栏</strong> 所以我创建这个项目，每个人都可以把玩</li><li class="css-0"><strong class="css-0">鼓励参与开源项目</strong></li><li class="css-0"><strong class="css-0">建立面试题库</strong> 让我们快乐的刷题吧</li><li class="css-0"><strong class="css-0">定期的专题分享</strong></li></ul><h4 class="css-0">专题怎么来?</h4><pre class="css-0"><code class="css-0">- 专题请求. 可以请求其他成员完成专题，比如比较深的知识，可以要求团队比较有经验的进行学习分享
- 学习总结.
- 项目回顾
- 难点攻克
- 项目规范
- 工具使用
</code></pre><ul class="css-0"><li class="css-0"><strong class="css-0">落实和完善开发规范</strong> 规范本身就是团队知识沉淀的一种</li><li class="css-0"><strong class="css-0">图书分享</strong> 得看呀</li><li class="css-0"><strong class="css-0">鼓励重构和持续优化代码</strong></li><li class="css-0"><strong class="css-0">抽象一套基础库或框架，减少重复工作，提高工作效率</strong> 比如公共的组件，还有现在的pdf导出</li></ul><h2 class="css-0">参考</h2><p class="css-0">99% 照搬掘金<a href="https://juejin.cn/post/6844903897610321934#" class="css-0">if 我是前端团队 Leader，怎么制定前端协作规范?</a></p></main></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/";window.___webpackCompilationHash="5e1abc7217b883e46c4e";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-fb56006874e3911784ed.js"],"app":["/app-5ff64c5c6731c3d5b165.js"],"component---src-pages-404-tsx":["/component---src-pages-404-tsx-c984588366e36595e3f0.js"],"component---src-pages-blog-page-tsx":["/component---src-pages-blog-page-tsx-6c628ecc27a01ed01733.js"],"component---src-pages-front-end-page-tsx":["/component---src-pages-front-end-page-tsx-c02bb3ccd696b9175493.js"],"component---src-pages-index-tsx":["/component---src-pages-index-tsx-cc0e6606af768ec19edc.js"],"component---src-pages-mdx-slug-tsx":["/component---src-pages-mdx-slug-tsx-e6b9a5a5ab118c518437.js"]};/*]]>*/</script><script src="/polyfill-fb56006874e3911784ed.js" nomodule=""></script><script src="/component---src-pages-index-tsx-cc0e6606af768ec19edc.js" async=""></script><script src="/42c9f84f9645ed5f761b4c6678255cf01342391e-664e7f9e279843ee0ff6.js" async=""></script><script src="/app-5ff64c5c6731c3d5b165.js" async=""></script><script src="/framework-40f550404eff6143517a.js" async=""></script><script src="/webpack-runtime-a8b117a0c06915913bd8.js" async=""></script></body></html>